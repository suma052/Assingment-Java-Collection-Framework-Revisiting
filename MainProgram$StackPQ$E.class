import java.util.PriorityQueue;
import java.util.Comparator;

public class PriorityQueueStack {

    static class Element {
        int value;
        int priority;

        Element(int value, int priority) {
            this.value = value;
            this.priority = priority;
        }
    }

    static int counter = 0;

    static PriorityQueue<Element> stack =
        new PriorityQueue<>(Comparator.comparingInt(e -> -e.priority));

    static void push(int value) {
        stack.add(new Element(value, counter++));
    }

    static int pop() {
        return stack.poll().value;
    }

    public static void main(String[] args) {
        push(10);
        push(20);
        push(30);

        System.out.println(pop());
        System.out.println(pop());
    }
}
